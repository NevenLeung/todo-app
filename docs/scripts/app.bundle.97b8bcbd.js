!function(e){function t(t){for(var o,d,i=t[0],s=t[1],l=t[2],u=0,f=[];u<i.length;u++)d=i[u],r[d]&&f.push(r[d][0]),r[d]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);for(c&&c(t);f.length;)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(a.splice(t--,1),e=d(d.s=n[0]))}return e}var o={},r={1:0},a=[];function d(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,d),n.l=!0,n.exports}d.m=e,d.c=o,d.d=function(e,t,n){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},d.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(d.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)d.d(n,o,function(t){return e[t]}.bind(null,o));return n},d.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var c=s;a.push([101,0]),n()}({101:function(e,t,n){"use strict";var o=l(n(17)),r=l(n(16)),a=function(){var e=(0,r.default)(o.default.mark(function e(){return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.todoListRenderInit)();case 2:c();case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();n(71);var d=l(n(18)),i=n(35),s=l(n(58));function l(e){return e&&e.__esModule?e:{default:e}}function c(){(0,i.displayCtrlInit)(),(0,s.default)(),(0,i.sortableInit)()}n(56),n(54),(0,d.default)("TodoApp",1,"todo",a).init()},11:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=document.querySelector(".input-form"),r=document.querySelector(".display-ctrl"),a=document.getElementsByClassName("todo-list")[0];t.$inputForm=o,t.$displayCtrl=r,t.$todoList=a},18:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(17)),r=i(n(70)),a=i(n(16)),d=i(n(31));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};function s(o,r){return new d.default(function(a,d){var s=window.indexedDB.open(e,t);s.onerror=function(e){console.log("Something bad happened while trying to open: "+e.target.errorCode),d(e.target)},s.onupgradeneeded=function(){s.result.createObjectStore(n,{keyPath:"_id",autoIncrement:!0})},s.onsuccess=function(){var e=s.result;if("init"===o)i(),a("App init."),e.close();else{var t=e.transaction(n,"readwrite"),l=t.objectStore(n);t.onabort=function(e){console.log("tx has been aborted."),console.log(e.target)};var c=void 0;switch(o){case"getAll":c=l.getAll();break;case"get":c=l.get(r);break;case"post":c=l.add(r);break;case"put":c=l.put(r);break;case"delete":c=l.delete(r);break;case"removeAll":c=l.clear()}c.onerror=function(e){console.log(e.target),d(e.target)},c.onsuccess=function(e){switch(o){case"getAll":case"get":a(c.result);break;case"post":console.log("Item with _id "+c.result+" has been added."),a({_id:c.result});break;case"put":console.log("Item with _id "+c.result+" has been updated."),a({_id:c.result});break;case"delete":console.log("Item has been removed."),a("Item has been removed.");break;case"removeAll":console.log("All items have been removed."),a("All items have been removed.");break;default:console.log("Database operation is not valid.")}},t.oncomplete=function(){e.close()}}}})}return{init:function(){return s("init","")},getAll:function(){return s("getAll","")},get:function(e){return s("get",e)},create:function(e){return s("post",e)},update:function(){var e=(0,a.default)(o.default.mark(function e(t,n){var a,d;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s("get",t);case 3:if(void 0===(a=e.sent)){e.next=9;break}return d=(0,r.default)(a,n),e.abrupt("return",s("put",d));case 9:console.log("Can not find the data according to the query");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t,n){return e.apply(this,arguments)}}(),delete:function(e){return s("delete",e)},removeAll:function(){return s("removeAll","")}}}},32:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(12)),r=n(11);t.default=function(e){var t=void 0;function n(n){void 0===t?(t=e.query(r.$displayCtrl,".display-all")).classList.add("selected"):(t.classList.remove("selected"),n.classList.add("selected"),t=n)}return{getDisplayOption:function(){return t},selectAnOption:n,displayTodoAll:function(e){if(e.matches(".display-all")){var t=[];t.push.apply(t,(0,o.default)(r.$todoList.children)),t.forEach(function(e){e.classList.remove("todo-hidden")}),n(e)}},displayTodoIsDone:function(e){if(e.matches(".display-done")){var t=[];t.push.apply(t,(0,o.default)(r.$todoList.children)),t.forEach(function(e){"true"===e.dataset.isDone?e.classList.remove("todo-hidden"):e.classList.add("todo-hidden")}),n(e)}},displayTodoIsNotDone:function(e){if(e.matches(".display-not-done")){var t=[];t.push.apply(t,(0,o.default)(r.$todoList.children)),t.forEach(function(e){"true"===e.dataset.isDone?e.classList.add("todo-hidden"):e.classList.remove("todo-hidden")}),n(e)}}}}},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(12));t.default=function(){return{appendMultiChild:function(e){try{for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];e instanceof Node&&0!==n.length?n.forEach(function(t){if(!(t instanceof Node))throw new Error(t+" is not of type 'Node'");e.appendChild(t)}):console.log("ParentNode or childrenNodes is not defined.")}catch(e){console.error(e)}},query:function(e,t){try{if(e instanceof Node&&"string"==typeof t){if(e instanceof Document)return e.querySelector(t);var n=e.getAttribute("id"),o=n||"temp";e.setAttribute("id",o),t="#"+o+" "+t;var r=e.querySelector(t);return n||e.removeAttribute("id"),r}}catch(e){console.error(e)}},queryAll:function(e,t){try{if(e instanceof Node&&"string"==typeof t){if(e instanceof Document)return e.querySelectorAll(t);var n=e.getAttribute("id"),o=n||"temp";e.setAttribute("id",o),t="#"+o+" "+t;var r=e.querySelectorAll(t);return n||e.removeAttribute("id"),r}}catch(e){console.error(e)}},findClosestAncestor:function(e,t){try{return e instanceof Element&&"string"==typeof t?e.closest(t)===e?e.parentElement instanceof Element?e.parentElement.closest(t):null:e.closest(t):null}catch(e){console.error(e)}},findSibling:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"backward";try{return"backward"===n?function e(t,n){return t instanceof Element&&"string"==typeof n&&t.nextElementSibling?t.nextElementSibling.matches(n)?t.nextElementSibling:e(t.nextElementSibling,n):null}(e,t):"forward"===n?function e(t,n){return t instanceof Element&&"string"==typeof n&&t.previousElementSibling?t.previousElementSibling.matches(n)?t.previousElementSibling:e(t.previousElementSibling,n):null}(e,t):null}catch(e){console.error(e)}},findSiblings:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";try{if(e instanceof Element&&"string"==typeof t&&e.parentElement instanceof Element){var r,a,d,i,s,l,c=[];return"all"===n?((r=c).push.apply(r,(0,o.default)(e.parentElement.children)),a=c.indexOf(e),c.splice(a,1),c=c.filter(function(e){return e.matches(t)})):"backward"===n?((d=c).push.apply(d,(0,o.default)(e.parentElement.children)),i=c.indexOf(e),c.splice(0,i+1),c=c.filter(function(e){return e.matches(t)})):"forward"===n?((s=c).push.apply(s,(0,o.default)(e.parentElement.children)),l=c.indexOf(e),c.splice(l,c.length-l),c=c.filter(function(e){return e.matches(t)})):null}}catch(e){console.error(e)}}}}},34:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNewElementNode=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=document.createElement(e);""!==n&&(o.textContent=n),""!==t&&(o.className=t);for(var r=arguments.length,a=Array(r>3?r-3:0),d=3;d<r;d++)a[d-3]=arguments[d];if(0!==a.length)for(var i=0;i<a.length;i+=2)o.setAttribute(a[i],a[i+1]);return o},t.stringToBoolean=function(e){if("string"==typeof e)return"true"===e}},35:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortableInit=t.displayCtrlInit=t.updatePositionChanged=t.todoEditInPlaceModule=t.deleteTodo=t.toggleTodoStatus=t.addTodo=t.todoListRenderInit=t.addMockData=t.todoListRender=t.sortTodoInAscendingOrder=void 0;var o=x(n(12)),r=x(n(31)),a=x(n(17)),d=x(n(16)),i=function(){var e=(0,d.default)(a.default.mark(function e(t){var n,o,r,d,i,s,l,c,u,f,v,m,b;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={text:t,isDone:!1,order:p.$todoList.children.length},e.prev=1,e.next=4,N().create(n);case 4:(o=e.sent)?(r=(0,h.createNewElementNode)("li","todo stretch-fade","","draggable","true","data-is-done","false","data-id",o._id,"data-order",n.order),d=(0,h.createNewElementNode)("div","todo-display"),i=(0,h.createNewElementNode)("div","todo-main"),s=(0,h.createNewElementNode)("span","todo-drag-handle",".. .. .."),l=(0,h.createNewElementNode)("label","todo-checkbox"),c=(0,h.createNewElementNode)("input","hidden-checkbox","","type","checkbox"),u=(0,h.createNewElementNode)("span","display-checkbox"),f=(0,h.createNewElementNode)("span","todo-content",t),v=(0,h.createNewElementNode)("div","delete-button-wrapper "),m=(0,h.createNewElementNode)("button","button button-delete-todo"),b=document.createTextNode(" "),w.appendMultiChild(l,c,u),w.appendMultiChild(i,l,f),v.appendChild(m),w.appendMultiChild(d,s,i,v),r.appendChild(d),w.appendMultiChild(p.$todoList,r,b),setTimeout(function(){d.classList.add("show-todo")},20)):console.log("Data creation is failed"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])}));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=(0,d.default)(a.default.mark(function e(){var t,n;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{text:"Finish the assignment of geometry",isDone:!1,order:0},{text:"Call sam to discuss supper ",isDone:!0,order:1}].map(function(e){return N().create(e)}),e.next=4,r.default.all(t);case 4:return e.next=6,N().getAll();case 6:n=e.sent,Array.isArray(n)&&0!==n.length&&C(n);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,d.default)(a.default.mark(function e(){var t;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N().getAll();case 3:if(t=e.sent,!Array.isArray(t)||0===t.length){e.next=8;break}C(t),e.next=10;break;case 8:return e.next=10,s();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,d.default)(a.default.mark(function e(t){var n,o,r,d,i;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.findClosestAncestor(t,".todo"),o=w.query(n,".todo-content"),r=k.getDisplayOption(),d=parseInt(n.dataset.id),i={isDone:!(0,h.stringToBoolean)(n.dataset.isDone)},e.prev=5,e.next=8,N().update(d,i);case 8:e.sent&&("false"===n.dataset.isDone?(o.classList.add("todo-is-done"),n.dataset.isDone="true",r.matches(".display-all")||n.classList.add("todo-hidden")):(o.classList.remove("todo-is-done"),n.dataset.isDone="false",r.matches(".display-all")||n.classList.add("todo-hidden"))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,d.default)(a.default.mark(function e(t){var n,o,r,d;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=w.findClosestAncestor(t,".todo"),o=w.query(n,".todo-display"),w.query(n,".todo-content"),r=parseInt(n.dataset.id),d=parseInt(n.dataset.order),e.prev=5,e.next=8,N().delete(r);case 8:o.classList.remove("show-todo"),setTimeout(function(){p.$todoList.removeChild(n),f(void 0,void 0,d,p.$todoList,void 0)},300),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.error(e.t0);case 15:case"end":return e.stop()}},e,this,[[5,12]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,d.default)(a.default.mark(function e(t,n,r,d,i){var s,l,c,u,f,p,h,v,m,b,y,g,x;return a.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((s=[]).push.apply(s,(0,o.default)(d.children)),void 0===r){e.next=21;break}l=r;case 4:if(!(l<d.children.length)){e.next=20;break}return c=d.children[l],u=parseInt(c.dataset.id),f=s.indexOf(c),c.dataset.order=f,e.prev=9,e.next=12,N().update(u,{order:f});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.error(e.t0);case 17:l++,e.next=4;break;case 20:return e.abrupt("return");case 21:if(void 0===i||!i){e.next=41;break}p=t;case 23:if(!(p<=n)){e.next=39;break}return h=d.children[p],v=parseInt(h.dataset.id),m=s.indexOf(h),h.dataset.order=m,e.prev=28,e.next=31,N().update(v,{order:m});case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(28),console.error(e.t1);case 36:p++,e.next=23;break;case 39:e.next=58;break;case 41:b=n;case 42:if(!(b<=t)){e.next=58;break}return y=d.children[b],g=parseInt(y.dataset.id),x=s.indexOf(y),y.dataset.order=x,e.prev=47,e.next=50,N().update(g,{order:x});case 50:e.next=55;break;case 52:e.prev=52,e.t2=e.catch(47),console.error(e.t2);case 55:b++,e.next=42;break;case 58:case"end":return e.stop()}},e,this,[[9,14],[28,33],[47,52]])}));return function(t,n,o,r,a){return e.apply(this,arguments)}}(),p=n(11),h=n(34),v=x(n(33)),m=x(n(60)),b=x(n(32)),y=x(n(18)),g=x(n(59));function x(e){return e&&e.__esModule?e:{default:e}}var w=(0,v.default)(),E=(0,m.default)(w),k=(0,b.default)(w),N=function(){return(0,y.default)("TodoApp",1,"todo")};function A(e){Array.isArray(e)&&e.sort(function(e,t){return e.order-t.order})}function C(e){A(e),e.forEach(function(e){var t=(0,h.createNewElementNode)("li","todo stretch-fade","","data-is-done",e.isDone,"data-id",e._id),n=(0,h.createNewElementNode)("div","todo-display show-todo"),o=(0,h.createNewElementNode)("div","todo-main"),r=(0,h.createNewElementNode)("span","todo-drag-handle",".. .. .."),a=(0,h.createNewElementNode)("label","todo-checkbox"),d=(0,h.createNewElementNode)("input","hidden-checkbox","","type","checkbox"),i=(0,h.createNewElementNode)("span","display-checkbox"),s=(0,h.createNewElementNode)("span","todo-content",e.text),l=(0,h.createNewElementNode)("div","delete-button-wrapper "),c=(0,h.createNewElementNode)("button","button button-delete-todo"),u=document.createTextNode(" ");e.isDone&&(s.classList.add("todo-is-done"),d.setAttribute("checked","checked")),w.appendMultiChild(a,d,i),w.appendMultiChild(o,a,s),l.appendChild(c),w.appendMultiChild(n,r,o,l),t.appendChild(n),w.appendMultiChild(p.$todoList,t,u)})}t.sortTodoInAscendingOrder=A,t.todoListRender=C,t.addMockData=s,t.todoListRenderInit=l,t.addTodo=i,t.toggleTodoStatus=c,t.deleteTodo=u,t.todoEditInPlaceModule=E,t.updatePositionChanged=f,t.displayCtrlInit=function(){var e=w.query(p.$displayCtrl,"display-all");k.selectAnOption(e)},t.sortableInit=function(){(0,g.default)(p.$todoList,".todo-drag-handle",".todo",f)}},54:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.todoOnClick=t.displayTabsOnClick=t.inputFormOnSubmit=void 0;var o=i(n(33)),r=i(n(32)),a=n(11),d=n(35);function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.default)(),l=(0,r.default)(s);t.inputFormOnSubmit=function(e){e.preventDefault();var t=a.$inputForm.elements["todo-input"].value;0===t.trim().length?alert("You should type something in the input bar."):(0,d.addTodo)(t),a.$inputForm.reset()},t.displayTabsOnClick=function(e){var t=e.target;t.matches(".display-all")&&l.displayTodoAll(t),t.matches(".display-done")&&l.displayTodoIsDone(t),t.matches(".display-not-done")&&l.displayTodoIsNotDone(t)},t.todoOnClick=function(e){var t=e.target;t.matches(".hidden-checkbox")&&(0,d.toggleTodoStatus)(e.target),t.matches(".todo-content")&&d.todoEditInPlaceModule.activatedTodoEditInPlace(e.target),t.matches(".button-delete-todo")&&(0,d.deleteTodo)(e.target),t.matches(".button-save-todo-edit")&&d.todoEditInPlaceModule.saveTodoEdit(e.target),t.matches(".button-cancel-todo-edit")&&d.todoEditInPlaceModule.cancelTodoEdit(e.target)}},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),r=n(57);t.default=function(){o.$inputForm.addEventListener("submit",r.inputFormOnSubmit,!1),o.$displayCtrl.addEventListener("click",r.displayTabsOnClick,!1),o.$todoList.addEventListener("click",r.todoOnClick,!1)}},59:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){return e&&e.__esModule?e:{default:e}}(n(12));t.default=function(e,t,n,r){var a,d=void 0,i=void 0,s=void 0,l=void 0,c=void 0,u=void 0,f=void 0,p=void 0,h=[];function v(t){u=!1;var o=t.target,r=o.closest(n);r&&r!==d&&(t.preventDefault(),t.dataTransfer.dropEffect="move",(c=t.clientY>=l)&&o.nextSibling&&!u&&(e.insertBefore(d,r.nextSibling),u=!0),c||u||(e.insertBefore(d,r),u=!0),l=t.clientY)}function m(t){t.preventDefault(),d.classList.remove("grabbing"),e.removeEventListener("dragover",v,!1),e.removeEventListener("dragend",m,!1),i!==d.nextSibling&&(p=[].indexOf.call(e.children,d),console.log("positionBefore: "+f+", positionAfter: "+p),r(f,p,void 0,e,c))}(a=h).push.apply(a,(0,o.default)(e.children)),h.forEach(function(e){e.draggable=!0,e.dataset.order=h.indexOf(e)}),e.addEventListener("mousedown",function(e){s=e.target},!1),e.addEventListener("dragstart",function(n){var r;s.matches(t)?(d=n.target,i=d.nextSibling,(r=h=[]).push.apply(r,(0,o.default)(e.children)),f=h.indexOf(d),n.dataTransfer.effectAllowed="move",n.dataTransfer.setData("Text",d.textContent),e.addEventListener("dragover",v,!1),e.addEventListener("dragend",m,!1),d.classList.add("grabbing")):n.preventDefault()},!1)}},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(17)),r=i(n(16)),a=n(34),d=i(n(18));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(){return(0,d.default)("TodoApp",1,"todo")};t.default=function(e){var t=function(){var t=(0,r.default)(o.default.mark(function t(n){var r,a,i,l,c,u,f;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.matches(".button-save-todo-edit")){t.next=22;break}if(r=e.findClosestAncestor(n,".todo"),a=e.findClosestAncestor(n,".todo-edit"),i=e.query(a,".todo-edit-input"),l=e.query(r,".todo-display"),c=e.query(l,".todo-content"),0!==i.value.trim().length){t.next=10;break}alert("The content of todo should not be empty. Please write something you need to do."),t.next=22;break;case 10:return u=parseInt(r.dataset.id),f={text:i.value},t.prev=12,t.next=15,s().update(u,f);case 15:t.sent&&(c.textContent=i.value,l.classList.remove("todo-display-hidden"),a.classList.remove("todo-edit-show"),d=void 0),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(12),console.error(t.t0);case 22:case"end":return t.stop()}},t,this,[[12,19]])}));return function(e){return t.apply(this,arguments)}}(),n=function(){var t=(0,r.default)(o.default.mark(function t(){var n,r,a,i,l,c;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===d){t.next=17;break}return n=e.query(d,".todo-display"),r=e.query(n,".todo-content"),a=e.query(d,".todo-edit"),i=e.query(a,".todo-edit-input").value,l=parseInt(d.dataset.id),c={text:i},t.prev=7,t.next=10,s().update(l,c);case 10:t.sent&&(r.textContent=i,n.classList.remove("todo-display-hidden"),a.classList.remove("todo-edit-show")),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),console.error(t.t0);case 17:case"end":return t.stop()}},t,this,[[7,14]])}));return function(){return t.apply(this,arguments)}}(),d=void 0;return{activatedTodoEditInPlace:function(t){if(t.matches(".todo-content")&&"none"!==t.style.display){void 0!==d&&n();var o=e.findClosestAncestor(t,".todo-display"),r=e.findClosestAncestor(o,".todo");if(null===e.query(r,".todo-edit")){o.classList.add("todo-display-hidden");var i=(0,a.createNewElementNode)("div","todo-edit todo-edit-show"),s=(0,a.createNewElementNode)("div","input-bar"),l=(0,a.createNewElementNode)("input","todo-edit-input","","type","text","value",t.textContent),c=(0,a.createNewElementNode)("span","focus-border"),u=(0,a.createNewElementNode)("button","button button-save-todo-edit","save"),f=(0,a.createNewElementNode)("button","button button-cancel-todo-edit","cancel");e.appendMultiChild(s,l,c),e.appendMultiChild(i,s,u,f),r.appendChild(i)}else{var p=e.query(r,".todo-edit"),h=e.query(p,".todo-edit-input");o.classList.add("todo-display-hidden"),p.classList.add("todo-edit-show"),h.value=t.textContent}d=r}},saveTodoEdit:t,cancelTodoEdit:function(t){if(t.matches(".button-cancel-todo-edit")){var n=e.findClosestAncestor(t,".todo-edit");e.findSibling(n,".todo-display","forward").classList.remove("todo-display-hidden"),n.classList.remove("todo-edit-show"),d=void 0}}}}},71:function(e,t,n){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement}while(null!==t);return null})}});